<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Lista de Op√ß√µes</title>
    <link rel="stylesheet" type="text/css" media="screen" href="_css/style.css">
</head>

<body>
    <h1>üìú Lista de Pedidos</h1>

    <table>
        <thead>
            <tr>
                <th>Tamanho</th>
                <th>Pre√ßo</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Pequeno (p)</td>
                <td>R$10,00</td>
            </tr>
            <tr>
                <td>Medio(M)</td>
                <td>R$15,00</td>
            </tr>
            <tr>
                <td>Grande(G)</td>
                <td>R$20,00</td>
            </tr>
        </tbody>
    </table>

    <form>
        <fieldset>
            <legend>Dados do Pedido:</legend>
            <label>Tamanho do a√ßai
                <br><br>
                <select name="tipoAcai" required id="tamanhoAcai" onchange="calcValorTotal(this.value)">
                    <option value="">Escolha um valor</option>
                    <option value="10">Pequeno</option>
                    <option value="15">Medio</option>
                    <option value="20">Grande</option>
                </select>
            </label>

            <br><br>
            <label>Tipo de Pagamento:
                <input type="radio" id="opcao1" name="trabalho" value="Autonomo" checked
                    onchange="calcValorTotal(tamanhoAcai.value)">Dinheiro
                <input type="radio" id="opcao2" name="trabalho" value="CLT"
                    onchange="calcValorTotal(tamanhoAcai.value)">Cart√£o
            </label>

            <br><br>
            <label>Valor Total
                <input type="text" name="valorTotal" id="ValorTotal" readonly>
            </label>

            <br><br>
            <label>Pagar
                <input type="number" name="pagar" id="pagar" min="0" onchange="pagamento(this)" required>
            </label>

            <br><br>
            <label>Troco
                <input type="number" name="troco" id="troco" min="0" readonly required>
            </label>
        </fieldset>

        <div>
            <input type="submit" class="botao" value="Calcular" onclick="botaoPagar()">
            <input type="reset" class="botao" value="LIMPAR">
        </div>

    </form>
</body>

<script>
    let juros = 1;
    let radio1 = document.getElementById("opcao1");
    let radio2 = document.getElementById("opcao2");

    function calcValorTotal(valor) {
        if (radio1.checked) {
            juros = 1;
        } else if (radio2.checked) {
            juros = 1.05;
        } else (
            alert("Selecione um tipo de pagamento valido")
        )

        document.getElementById("ValorTotal").value = valor * juros;
    }

    function pagamento(valorPagamento) {
        let troco = document.getElementById("troco")

        let ValorTotal = document.getElementById("ValorTotal").value;


        if (valorPagamento.value < 0) {
            alert("Digite um valor valido")
            troco.value = '';
            valorPagamento.value = 0;
        } else if (ValorTotal == 0 || ValorTotal == '') {
            alert("Escolha o tamanho do seu a√ßai")
            valorPagamento.value = 0;
            troco.value = '';
        } else {
            const diferencaValor = (valorPagamento.value - ValorTotal);

            switch (true) {
                case diferencaValor < 0:
                    alert("Valor Insuficiente falta " + diferencaValor*-1 + "Reais")
                    troco.value = '';
                    break;
                case diferencaValor >= 0:
                    troco.value = diferencaValor;
                    break;
                default:
                    troco.value = 0;
                    break;
            }
        }
    }
</script>

</html>